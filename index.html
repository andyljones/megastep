
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>megastep &#8212; megastep 0.1 documentation</title>
    <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorials/index.html" />

   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

    <!-- Monitoring pageviews is really useful to me to see what kind of stuff I've done is useful to everyone else.
    But I'm keen to not to track any more than that, and so this is a minimal, self-hosted solution. It records
    nothing more than'd be in the server logs. -->
    <script>
        url = "https://live.andyljones.com/mat/mat.php";
        xhr = new XMLHttpRequest();
        xhr.open("POST", url, true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
  
        params = 'idsite=1&rec=1'
        params += '&url=' + encodeURIComponent(window.location.href);
        params += '&urlref=' + encodeURIComponent(document.referrer);
        params += '&rand=' + Math.floor(16384*Math.random())
        xhr.send(params)
      </script>
      <noscript>
        <img src="https://live.andyljones.com/mat/mat.php?idsite=1&amp;rec=1" style="border:0" alt=""/>
      </noscript>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">megastep</a></h1>



<p class="blurb">RL at 1m FPS</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=andyljones&repo=megastep&type=star&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="tutorials/index.html" title="next chapter">Tutorials</a></li>
  </ul></li>
</ul>
</div>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <bold><span style="color: red">This repo is still pre-release. The documentation is still incomplete. </span></bold><div class="section" id="megastep">
<h1>megastep<a class="headerlink" href="#megastep" title="Permalink to this headline">¶</a></h1>
<p><strong>megastep</strong> helps you build 1-million FPS reinforcement learning environments <em>on a single GPU</em>.</p>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p><strong>Explorer</strong>: 180k FPS, <a class="reference external" href="https://github.com/andyljones/megastep/tree/master/megastep/demo/envs/explorer.py">100 lines of Python</a>.</p>
<video controls src="_static/explorer.mp4" autoplay loop muted type="video/mp4" width=640></video><p><strong>Deathmatch</strong>: 1.2m FPS, <a class="reference external" href="https://github.com/andyljones/megastep/tree/master/megastep/demo/envs/deathmatch.py">150 lines of Python</a>.</p>
<video controls src="_static/deathmatch.mp4" autoplay loop muted type="video/mp4" width=640></video><p>Quoted FPS are for a single RTX 2080 Ti and random actions; visualizations are with a 256-neuron LSTM.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Run thousands of environments in parallel, entirely on the GPU.</p></li>
<li><p>Write your own environments using PyTorch alone, no CUDA necessary.</p></li>
<li><p>1D observations. The world is more interesting horizontally than vertically.</p></li>
<li><p>One or many agents, and one or many cameras per agent.</p></li>
<li><p>A database of 5000 home layouts to explore, based on <a class="reference external" href="https://github.com/CubiCasa/CubiCasa5k">Cubicasa5k</a>.</p></li>
<li><p>A minimal, modular library. Not a framework.</p></li>
<li><p>(In progress) Extensive documentation, tutorials and explanations.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="install">
<span id="id1"></span><h2>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<p>If you’re working on an Ubuntu machine with CUDA already set up and Python 3.6 or higher, it should be as simple as</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip install megastep<span class="o">[</span>cubicasa,rebar<span class="o">]</span>
</pre></div>
</div>
<p>To check everything works, run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">megastep.demo</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">explorer</span><span class="o">.</span><span class="n">Explorer</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">agent</span> <span class="o">=</span> <span class="n">Agent</span><span class="p">(</span><span class="n">env</span><span class="p">)</span><span class="o">.</span><span class="n">cuda</span><span class="p">()</span>
<span class="n">demo</span><span class="p">(</span><span class="n">env</span><span class="o">=</span><span class="n">env</span><span class="p">,</span> <span class="n">agent</span><span class="o">=</span><span class="n">agent</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>The first time you import megastep on your machine will be slow</strong> as it compiles the C++ side of things.</p>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Having <a class="reference internal" href="#install"><span class="std std-ref">installed megastep</span></a>, you have a few choices.</p>
<p>If you’d like something comprehensive, read <a class="reference internal" href="tutorials/minimal-env/index.html#minimal-env"><span class="std std-ref">Writing a Minimal Environment</span></a>.</p>
<p>If you’d like a more self-propelled introduction, read <a class="reference internal" href="tutorials/playing.html#playing"><span class="std std-ref">Playing With Megastep</span></a>.</p>
<p>Or, you can simply browse the <a class="reference external" href="https://github.com/andyljones/megastep/tree/master/megastep/demo/__init__.py">demos</a>.</p>
</div>
<div class="section" id="support">
<span id="id2"></span><h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>I am an independent researcher, so just how much support I can give is limited. But you’re absolutely welcome to <a class="reference external" href="https://github.com/andyljones/megastep/issues">open
a GitHub issue</a> or <a class="reference external" href="https://www.reddit.com/r/reinforcementlearning/comments/jawm37/official_reinforcement_learning_discord/">see if I’m around on
the RL Discord</a>. At the very least I’ll try to point you in the right direction.</p>
<p>You can also find me <a class="reference external" href="https://twitter.com/andy_l_jones">on Twitter</a> or you can <a class="reference external" href="mailto:andyjones&#46;ed&#37;&#52;&#48;gmail&#46;com">email me</a>.</p>
<p>Of the options, a GitHub issue is likely the best choice as if you have a question, there are likely other people out
there with the same exact question! And if they don’t, maybe someone else will have an answer for you.</p>
</div>
<div class="section" id="index">
<h2>Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/playing.html">Playing With Megastep</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/minimal-env/index.html">A Minimal Env</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/explorer-env.html">An Explorer Env (Incomplete)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/deathmatch-env.html">A Deathmatch Env (Incomplete)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/geometry/index.html">Custom Geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/scenery.html">Custom Scenery (Incomplete)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/kernels/index.html">Custom Kernels (Incomplete)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#dotdicts-and-arrdicts">dotdicts and arrdicts</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#raggeds">Raggeds</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#geometries">Geometries</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#agents">Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#scenery">Scenery</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#rendering">Rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#physics">Physics</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#plotting">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#models">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#decision-world">Decision &amp; World</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#spaces-heads">Spaces &amp; Heads</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#env-patterns">Env Patterns</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-is-megastep-so-fast">How is megastep so fast?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-is-megastep-so-flexible">How is megastep so flexible?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-about-other-oses">What about other OSes?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-if-i-don-t-have-cuda">What if I don’t have CUDA?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#i-have-a-question-for-the-developer">I have a question for the developer</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-install-just-megastep">How can I install <em>just</em> megastep?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-did-you-write-megastep">Why did you write megastep?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#where-might-this-go-in-future">Where might this go in future?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-are-some-alternatives-to-megastep">What are some alternatives to megastep?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-s-with-the-cubicasa-license">What’s with the cubicasa license?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-should-i-cite-this">How should I cite this?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-doesn-t-megastep-use-inheritance">Why doesn’t megastep use inheritance?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-don-t-you-use-the-openai-gym-interface">Why don’t you use the OpenAI Gym interface?</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="reference.html#megastep">megastep</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.core">core</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.cuda">cuda</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.cubicasa">cubicasa</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.geometry">geometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.modules">modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.plotting">plotting</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.ragged">ragged</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.scene">scene</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.spaces">spaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.toys">toys</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#module-megastep.demo">demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.heads">heads</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.learning">learning</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.lstm">lstm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#demo-envs">demo.envs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.envs.minimal">minimal</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.envs.deathmatch">deathmatch</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-megastep.demo.envs.explorer">explorer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference.html#module-rebar">rebar</a><ul>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-rebar.arrdict">arrdict</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-rebar.dotdict">dotdict</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference.html#module-rebar.recording">recording</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2020, Andy L. Jones.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>